(function(t){function e(e){for(var o,i,u=e[0],s=e[1],l=e[2],d=0,f=[];d<u.length;d++)i=u[d],r[i]&&f.push(r[i][0]),r[i]=0;for(o in s)Object.prototype.hasOwnProperty.call(s,o)&&(t[o]=s[o]);c&&c(e);while(f.length)f.shift()();return a.push.apply(a,l||[]),n()}function n(){for(var t,e=0;e<a.length;e++){for(var n=a[e],o=!0,u=1;u<n.length;u++){var s=n[u];0!==r[s]&&(o=!1)}o&&(a.splice(e--,1),t=i(i.s=n[0]))}return t}var o={},r={app:0},a=[];function i(e){if(o[e])return o[e].exports;var n=o[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=o,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)i.d(n,o,function(e){return t[e]}.bind(null,o));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/";var u=window["webpackJsonp"]=window["webpackJsonp"]||[],s=u.push.bind(u);u.push=e,u=u.slice();for(var l=0;l<u.length;l++)e(u[l]);var c=s;a.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"034f":function(t,e,n){"use strict";var o=n("64a9"),r=n.n(o);r.a},"56d7":function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("f751"),n("097d");var o=n("2b0e"),r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("Gra",{attrs:{msg:"Welcome to Your Vue.js App"}})],1)},a=[],i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[n("div",{staticClass:"status"},[n("div",[t._v(t._s(t.statusText))])]),t.dialog?n("div",{staticClass:"dialog"},[n("div",{staticClass:"intro"},[t._v(t._s(t.dialog.intro.textInterpolated))]),t._l(t.dialog.options,function(e,o){return n("div",{key:o,staticClass:"option",attrs:{"data-option":o},on:{click:t.chooseOption}},[t._v(t._s(e.textInterpolated))])})],2):t._e(),t.debug?n("div",{staticClass:"debug"},[t._v("\n      Dialog name: "+t._s(t.dialogName)+", Context : "+t._s(t.context)+"\n  ")]):t._e()])},u=[],s=n("fff2"),l=(n("c5f6"),n("ac6a"),n("ffc1"),[{id:"basic",intro:[{text:"Hello, my name is noone."}],options:[{text:"Hello to you to",go:"other"},{text:"I don't want to talk",go:"exit"}]},{id:"other",run:"other.met INC",intro:[{text:"Hello, I hate you. Met you too many times",if:"other.met 2 >"},{text:"Hello, I already met you!",if:"other.met 0 >"},{text:"Hello, stranger!",run:'"Jan" other.x :='}],options:[{text:"Same here",if:"other.met 0 >",go:"basic"},{text:"Hello to you to",run:"other.met 1 - other.met :="},{text:"I don't want to talk",go:"exit"}]},{id:"game",run:"turn INC",intro:[{text:"Hello we have turn {{turn}} and you have {{money 0 +}} money and enough points ({{score}}) to advance! ",if:"score 3 >",run:"1 achieved :="},{text:"Hello we have turn {{turn}} and you have {{money 0 +}} money and scored {{score}}"}],options:[{text:"I want to get a point!",if:"score 2 <",run:"score INC"},{text:"I just want to wait until turn {{turn 1 +}}."},{text:"I will work for extra 2 turns",run:"money INC; turn INC"},{text:"I want to buy a point for 3 money",if:"money 2 >",run:"money -3 INC_BY ; score INC"},{text:"I can affort 2 points for 5!",if:"money 4 >",run:"money -5 INC_BY ; score 2 INC_BY"},{text:"Proceed",go:"advance",if:"achieved"}]},{id:"advance",run:"turn 2 + turn :=",intro:[{text:"Welcome to advanced. Hello we have turn {{turn}} and you have {{money 0 +}} money and scored {{score}}"}],options:[{text:"I want to get a point!",if:"score 2 <",run:"score 1 + score :="},{text:"I just want to wait until turn {{turn 1 +}}."},{text:"I will work for extra 2 turns",run:"money 1 + money :=; turn 1 + turn :="},{text:"I want to buy a point for 3 money",if:"money 2 >",run:"money 3 - money := ; score 1 + score :="},{text:"I can affort 2 points for 5!",if:"money 4 >",run:"money 5 - money := ; score 2 + score :="}]},{id:"adventure",intro:[{text:'You are standing in the village green. {{"You see a backpack" "" backpack ?}}'}],options:[{text:"Pick up the backpack",if:"backpack",run:"0 backpack :=; 1 inventory.backpack :="},{text:"Sit on a bench and rest a bit",if:"stats.energy 10 <",run:"stats.energy INC;2 TURN"},{text:"Do some paid work",if:"stats.energy 1 >",run:"stats.energy -2 INC_BY ; inventory.money 1 INC_BY; 5 TURN"},{text:"Go to the tavern",go:"tavern",run:"1 TURN"},{text:"Nothing..."}]},{id:"tavern",intro:[{text:"You are in the tavern"}],options:[{text:"Talk to bartender",if:"talked_to_bartender !",go:"bartender"},{text:"Leave",go:"adventure"}]},{run:"1 TURN;talked_to_bartender INC",id:"bartender",intro:[{text:"Hello, here's the sword to kill dragon",run:"inventory.sword INC"}],options:[{text:"Leave",go:"adventure"}]}]),c=s["a"].screept;console.log("ROZMOWA",s["a"]);var d="adventure",f={other:{met:-1},turn:0,score:0,backpack:1,inventory:{money:5,sword:0},stats:{energy:10}};function p(){var t="It is currently {{turn}} turn. You have {{score}} points.\n     You have: ".concat(Object.entries(f.inventory).filter(function(t){return t[1]}).map(function(t){return t[0]+":"+t[1]}),"\n     Energy: {{stats.energy}}\n     ");return c.interpolate(t,f)}function g(){console.log("INIT RUN"),c.addVerb("INC",1,function(t){return t.object[t.key]=Number(t.value||0)+1,t.object[t.key]}),c.addVerb("INC_BY",2,function(t,e){return t.object[t.key]=Number(t.value||0)+Number(e.value||0),t.object[t.key]}),c.addVerb("TURN",1,function(t){for(var e=0;e<t.value;e++)console.log("Turn passed, new turn ",++f.turn)})}var y={dialogs:l,status:p,dialogName:d,ctx:f,init:g},h={name:"Gra",props:{msg:String},data:function(){return{debug:!0,dialogName:null,ctx:null,dialog:null,status:null,dialogs:null}},computed:{context:function(){return console.log("Context liczony"),JSON.stringify(this.ctx)},statusText:function(){if(console.log("Status liczony"),this.status)return this.status()}},methods:{updateDialog:function(){console.log("dialog liczony",this.dialogName),null==this.dialogName?this.dialog=null:this.dialog=s["a"].processDialog(this.dialogs,this.dialogName,this.ctx)},chooseOption:function(t){var e=t.target.dataset.option,n=s["a"].processOptionChoice(this.dialog.options[e],this.ctx);console.log("CHOOSE OPTION",e,n),n||(this.dialogName=null),"string"==typeof n&&(this.dialogName=n),this.updateDialog()}},mounted:function(){this.ctx=y.ctx,this.dialogName=y.dialogName,this.status=y.status,this.dialogs=y.dialogs,y.init(),this.updateDialog()}},m=h,v=(n("db64"),n("2877")),x=Object(v["a"])(m,i,u,!1,null,null,null),b=x.exports,N={name:"app",components:{Gra:b}},I=N,k=(n("034f"),Object(v["a"])(I,r,a,!1,null,null,null)),w=k.exports;o["a"].config.productionTip=!1,new o["a"]({render:function(t){return t(w)}}).$mount("#app")},"64a9":function(t,e,n){},a236:function(t,e,n){},db64:function(t,e,n){"use strict";var o=n("a236"),r=n.n(o);r.a}});
//# sourceMappingURL=app.3dc62090.js.map