{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/App.vue?5b85","webpack:///./src/lib/screept.js","webpack:///./src/App.vue?1d3d","webpack:///./src/components/Gra.vue?7c95","webpack:///./src/lib/dialog.js","webpack:///./src/components/Debug.vue?ec39","webpack:///src/components/Debug.vue","webpack:///./src/components/Debug.vue?ef2d","webpack:///./src/components/Debug.vue","webpack:///./game-data/adventure-2/dialogs.mjs","webpack:///./game-data/adventure-2/recipes.mjs","webpack:///./game-data/adventure-2/verbs.mjs","webpack:///./game-data/adventure-2/types.mjs","webpack:///./game-data/adventure-2/index.mjs","webpack:///src/components/Gra.vue","webpack:///./src/components/Gra.vue?56c6","webpack:///./src/components/Gra.vue","webpack:///src/App.vue","webpack:///./src/App.vue?a7d1","webpack:///./src/App.vue","webpack:///./src/main.js","webpack:///./src/components/Gra.vue?685d","webpack:///./src/components/Debug.vue?1a2c"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","installedChunks","push","Object","prototype","hasOwnProperty","call","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","app","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_App_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_App_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0___default","run","text","ctx","arguments","undefined","replace","console","log","eval","interpolate","full","scr","Appvue_type_template_id_d750a1a4_render","_vm","this","_h","$createElement","_c","_self","attrs","id","msg","staticRenderFns","Gravue_type_template_id_74f18516_render","staticClass","domProps","innerHTML","_s","statusText","data-option","on","click","chooseOption","_v","_e","dialog","intro","textInterpolated","_l","option","dialogName","test","directives","rawName","expression","type","checked","Array","isArray","debug","_i","change","$event","$$a","$$el","target","$$c","$$v","$$i","concat","Gravue_type_template_id_74f18516_staticRenderFns","processDialog","runCond","obj","screept","find","if","split","join","options","forEach","each","_option$each$match","match","_option$each$match2","slicedToArray","first","array","_first$split","_first$split2","_k","arr","nO","JSON","parse","stringify","pre","filter","processOptionChoice","go","lib_dialog","hello","Debugvue_type_template_id_77f9bd40_scoped_true_render","turn","flag","class","flagOn","item","stat","Debugvue_type_template_id_77f9bd40_scoped_true_staticRenderFns","Debugvue_type_script_lang_js_","props","components_Debugvue_type_script_lang_js_","component","componentNormalizer","Debug","dialogs","recipes","ing","workstation","addFunctions","CFG","finder","el","nextTurn","TURNS_PER_HOUR","PLANTS_GROW","flags","sleeping","passedOut","waitUntilMorning","FINDER","TURN","x","MSG","line","messages","TYPE","types","STACK_POP","stack","STAT","entity","stats","INV","inventory","count","Number","TIRE","DEBUG","PLANT","plotKey","seed","plant","plot","farm","stage","PLANT_STATUS","grow","HARVEST","GET_HOUR","GET_MINUTES","IS_DAY","hour","GET_DAY","WAIT_UNTIL_MORNING","TEST_ROLL","a","Math","random","RND","INVENTORY","entries","entry","map","SAVE","localStorage","setItem","LOAD","save","getItem","keys","MINE","stone","depth","message","FORAGE","stick","CRAFT","recipe","_ing","amount","COMBAT_START","opponentName","opponent","npc","combat_forced","COMBAT_PREPARE","generic","energy","energy_max","COMBAT_IS_FINISHED","combat_won","combat_lost","COMBAT_ATTACK","player_dmg","COMBAT_NPC_ATTACK","opp_dmag","COMBAT_STATE","COMBAT_ROUND","COMBAT_TRY_FLEE","attempt","foodValue","price","other","met","money","sword","fish","meal","cabbage_seed","radish_seed","sells","buys","attack","defence","planting","dirty","looked_around","met_bernie","talked_to_bartender","bartender_favor_bernie_finished","bartender_favor_bernie_asked","citaa_remembered","status","init","adventure_2","Gravue_type_script_lang_js_","String","components","computed","context","methods","event","dataset","pop","mounted","components_Gravue_type_script_lang_js_","Gra_component","Gra","Appvue_type_script_lang_js_","src_Appvue_type_script_lang_js_","App_component","App","Vue","config","productionTip","render","h","$mount","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Gra_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Gra_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Debug_vue_vue_type_style_index_0_id_77f9bd40_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Debug_vue_vue_type_style_index_0_id_77f9bd40_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default"],"mappings":"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","file":"js/app.eef67f46.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import mod from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css&\"","export function run(text,ctx={}){\n    text=text.replace(/\\$(\\w+\\W?)/g,\" ctx.$1\");\n    console.log(\"EVAL\",text)\n    return eval(text);\n}\n    \nexport function interpolate(s, ctx) {\n    return s.replace(/{{(.*?)}}/g, (full, scr) => {\n        let result = run(scr, ctx)\n        console.log(\"RESULT of interpolation\",result)\n        return result;\n    })\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('Gra',{attrs:{\"msg\":\"Welcome to Your Vue.js App\"}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"status\"},[_c('div',{domProps:{\"innerHTML\":_vm._s(_vm.statusText)}}),(_vm.ctx.options)?_c('div',{staticClass:\"option\",attrs:{\"data-option\":\"options\"},on:{\"click\":_vm.chooseOption}},[_vm._v(\"Options\")]):_vm._e()]),(_vm.dialog)?_c('div',{staticClass:\"dialog\"},[_c('div',{staticClass:\"intro\",domProps:{\"innerHTML\":_vm._s(_vm.dialog.intro.textInterpolated)}}),_vm._l((_vm.dialog.options),function(option,key){return _c('div',{key:_vm.ctx.dialogName+'_'+key+' '+option.text.length,staticClass:\"option\",attrs:{\"data-option\":key,\"test\":_vm.ctx.dialogName+'_'+key+' '+option.text.length},on:{\"click\":_vm.chooseOption}},[_vm._v(_vm._s(option.textInterpolated))])})],2):_vm._e(),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.debug),expression:\"debug\"}],attrs:{\"type\":\"checkbox\"},domProps:{\"checked\":Array.isArray(_vm.debug)?_vm._i(_vm.debug,null)>-1:(_vm.debug)},on:{\"change\":function($event){var $$a=_vm.debug,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.debug=$$a.concat([$$v]))}else{$$i>-1&&(_vm.debug=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.debug=$$c}}}}),(_vm.debug)?_c('debug',{attrs:{\"ctx\":_vm.ctx}}):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport * as screept from './screept.js'\nconsole.log(\"SCREEPT\",screept)\nfunction processDialog(data,dialogName,ctx={}){\n    function runCond(obj){\n        return obj?screept.run(obj,ctx):undefined;\n    }\n    console.log(\"DATA\",data)\n    let dialog=data.find(d=>d.id==dialogName);\n    if (!dialog) return;\n    runCond(dialog.run)\n    let intro=dialog.intro.find(intro=>intro.if?screept.run(intro.if,ctx):true);\n    intro.textInterpolated=screept.interpolate(intro.text,ctx).split('^nl').join('<br>');\n    console.log(\"TI\",intro.textInterpolated)\n    runCond(intro.run)\n    let options=[]\n    dialog.options.forEach(option=>{\n        if (option.each){\n            let [_,first,array]=option.each.match(/^\\((.*)\\) in (.*)/);\n            let [_v,_k]=first.split(/\\s?,\\s?/);\n            console.log(\"FIRST\",first);\n            console.log(`x${_v}x x${_k}x`)\n            console.log(\"ARR\",array);\n            let arr=screept.run(array,ctx);\n            console.log(\"ARRR\",arr)\n            arr.forEach( (value,key)=>{\n                let nO=JSON.parse(JSON.stringify(option));\n                ctx[_v]=value;\n                ctx[_k]=key\n                nO.textInterpolated=screept.interpolate(nO.text,ctx).split('^nl').join('<br>');\n                let pre=\"$\"+_v+\"=\"+JSON.stringify(value)+\"; $\"+_k+\"=\"+JSON.stringify(key)+\";\"\n                if (nO.run) {\n                    nO.run=pre+nO.run;\n                }\n                if (nO.if){\n                    nO.if=pre+nO.if;\n                }\n                console.log(\"NO\",nO)\n                options.push(nO);\n            })\n        }\n        else {\n            option.textInterpolated=screept.interpolate(option.text,ctx).split('^nl').join('<br>');\n            options.push(option);\n        };\n    })\n    options=options.filter(option=>option.if?screept.run(option.if,ctx):true);\n    return {intro,options};\n}\nfunction processOptionChoice(option,ctx){\n    if (option.run){\n        console.log(\"OPTION to run\",option.run)\n        screept.run(option.run,ctx)\n    }\n    if (option.go){\n        if (option.go==\"exit\") return false;\n        return option.go\n    }\n    return true;\n}\n\nexport default {\n    processDialog,\n    hello(){\n        console.log(\"Hello.\");\n    },\n    processOptionChoice,\n    screept\n\n}","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('h2',[_vm._v(\"Debug\")]),_c('h1',{staticClass:\"dialogName\"},[_vm._v(\"Dialog: \"+_vm._s(_vm.ctx.dialogName)+\" Turn: \"+_vm._s(_vm.ctx.turn))]),_c('h1',[_vm._v(\"Stack\")]),_c('div',{staticClass:\"stack flex-wrapped\"},_vm._l((_vm.ctx.stack),function(dialog,key){return _c('div',{key:dialog+key},[_vm._v(_vm._s(dialog))])}),0),_c('h1',[_vm._v(\"Flags\")]),_c('div',{staticClass:\"flags flex-wrapped\"},_vm._l((_vm.ctx.flags),function(flag,key){return _c('div',{key:key,class:{flagOn:flag}},[_vm._v(_vm._s(key)+\"(\"+_vm._s(flag)+\")\")])}),0),_c('h1',[_vm._v(\"Inventory\")]),_c('div',{staticClass:\"inventory flex-wrapped\"},_vm._l((_vm.ctx.inventory),function(item,key){return _c('div',{key:key,class:{flagOn:item}},[_vm._v(_vm._s(key)+\"(\"+_vm._s(item)+\")\")])}),0),_c('h1',[_vm._v(\"Stats\")]),_c('div',{staticClass:\"stats flex-wrapped\"},_vm._l((_vm.ctx.stats),function(stat,key){return _c('div',{key:key},[_vm._v(_vm._s(key)+\"(\"+_vm._s(stat)+\")\")])}),0)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <h2>Debug</h2>\n    <h1 class=\"dialogName\">Dialog: {{ctx.dialogName}} Turn: {{ctx.turn}}</h1>\n    <h1>Stack</h1>\n    <div class=\"stack flex-wrapped\">\n        <div v-for=\"(dialog,key) in ctx.stack\" :key=\"dialog+key\">{{dialog}}</div>\n    </div>\n    <h1>Flags</h1>\n    <div class=\"flags flex-wrapped\">\n        <div v-for=\"(flag,key) in ctx.flags\" :class=\"{flagOn:flag}\" :key=\"key\" >{{key}}({{flag}})</div>\n    </div>\n    <h1>Inventory</h1>\n    <div class=\"inventory flex-wrapped\">\n        <div v-for=\"(item,key) in ctx.inventory\" :class=\"{flagOn:item}\" :key=\"key\" >{{key}}({{item}})</div>\n    </div>\n    <h1>Stats</h1>\n    <div class=\"stats flex-wrapped\">\n        <div v-for=\"(stat,key) in ctx.stats\"  :key=\"key\" >{{key}}({{stat}})</div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"Debug\",\n  props: [\"ctx\"]\n};\n</script>\n\n<style scoped>\nh1 {\n    font-size: 1rem;\n    margin: 0;\n    padding: 2px;\n}\n.dialogName {\n    background-color: bisque;\n}\n.flex-wrapped {\n     display:flex;\n    flex-wrap: wrap;\n}\n\n.flex-wrapped > * {\n    padding: 2px;\n    border: 1px solid black;\n    margin: 2px;\n}\n.flagOn {\n    background-color:green;\n    color: white;\n    \n}\n.stack > * {\n    border-color: cadetblue;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Debug.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Debug.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Debug.vue?vue&type=template&id=77f9bd40&scoped=true&\"\nimport script from \"./Debug.vue?vue&type=script&lang=js&\"\nexport * from \"./Debug.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Debug.vue?vue&type=style&index=0&id=77f9bd40&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"77f9bd40\",\n  null\n  \n)\n\nexport default component.exports","export default\n    [{\n        id:\"options\",\n        intro:[\n            {text:\"Options. You have {{$INVENTORY()}}\"},\n\n        ],\n        options:[\n            {text:\"Craft\",go:\"craft\"},\n            {text:\"Cook\",run:\"$crafting_station='kitchen'\",go:\"craft\"},\n            {text:\"Fight\",run:\"$opponent=$npc.find($FINDER('name','goblin'));$COMBAT_PREPARE()\",go:\"combat\"},\n            {text:\"Look at yourself.\",go:\"look-at-self\"},\n            {text:\"Eat\",go:\"eat\"},\n            {text:\"Eat a meal {{$INV('widget')}}\",if:\"$INV('meal') > 0 & $stats.energy < 100; \",run:\"$INV('meal',-1); $INV('widget',2)\"},\n            {text:\"Rest an hour\",if:\"$stats.energy < 100\",run:\"$TURN(4); $STAT('energy',10)\"},\n            {text:\"Wait an hour\",run:\"$TURN(4)\"},\n            {text:\"Sleep until morning\",run:\"$flags.sleeping=1;$WAIT_UNTIL_MORNING();$flags.sleeping=0;$stats.energy=$stats.energy_max*1.2\",go:\"return\"},\n            {text:\"Save Game\",run:\"$SAVE()\"},\n            {text:\"Load Game\",run:\"$LOAD()\"},\n            {text:\"* Grow Plants *\",run:\"$PLANTS_GROW()\"},\n            {text:\"Back\",go:\"return\"},\n        ]\n    },\n    {\n        id:\"message\",\n        intro:[\n            {text:\"{{$message}}\"}\n        ],\n        options:[\n            {text:\"OK\",run:\"$message=''\",go:\"return\"}\n        ]\n    },\n    {\n        id:\"eat\",\n        intro:[\n            {text:\"What do you want to eat?\"},\n        ],\n        run:\"$DEBUG($TYPE('cabbage'))\",\n        options:[\n            {each:\"(v,k) in Object.entries($inventory).filter( (va)=>va[1] && $TYPE(va[0]) && $TYPE(va[0]).foodValue)\",\n              text:\"{{$v[0]}} (you have {{$v[1]}})\", run:\"$STAT('energy',$TYPE($v[0]).foodValue);$INV($v[0],-1);$TURN(1)\"},\n            {text:\"Nothing\",go:\"return\"}\n        ]\n\n    },\n    {\n        id:\"craft\",\n        intro:[\n            {text:\"Craft {{$crafting_station||''}}\"}\n        ],\n        options:[\n            {each:\"(v,k) in $recipes\",\n             if:\"( ($v.workstation || $crafting_station) ?$crafting_station==$v.workstation : true ) && $v.ing.every(ing=>$INV(ing[0])>=ing[1])\",\n            text:\"{{$v.name}}\",run:\"$CRAFT($v.name)\"},\n            {text:\"Nothing\",run:\"$crafting_station=''\",go:\"return\"}\n        ]\n    }, \n    {\n        id:\"farm\",\n        intro:[\n            {text:`Your farm has {{$farm.length}} plots. Growing {{$farm.map($PLANT_STATUS).join(', ')}}`},\n        ],\n        options:[\n            {text:`Plant`,if:\"$farm.find(plot=>!plot.plant)\",go:\"plant\"},\n            {text:`Harvest`,if:\"$farm.find($FINDER('stage',10))\",go:\"harvest\"},\n            {text:`Grow`,run:\"$PLANTS_GROW()\"},\n            {text:`Back`,go:`return`},\n        ]\n    },\n    \n    {\n        id:\"plant\",\n        intro:[\n            {text:`Currently planting {{$planting}} and you have {{$INV($planting)}}`,if:\"$planting\"},\n            {text:`No seeds chosen.`}\n        ],\n        options:[\n            {text:\"Change seeds\",go:\"choose_planting\"},\n            {each:\"(v,k) in  $farm\",if:\"!$v.plant && $INV($planting)\",text:\"Plant {{$planting}}\", run:`$DEBUG($k);$DEBUG($v); \n              $PLANT($k,$planting); $TIRE(1); $TURN(5);$INV($planting,-1)`},\n            {text:\"Back\",go:\"return\"}\n        ]\n    },\n    {\n        id:\"choose_planting\",\n        intro:[\n            {text:`Currently planting {{$planting}} and you have {{$INV($planting)}} `,if:\"$planting\"},\n            {text:`No seeds chosen.`}\n            \n        ], options:[\n            {text:\"Nothing.\",run:\"$planting=null\"},\n            {each:\"(v,k) in Object.keys($inventory).filter(item=>item.includes('_seed'))\",text:`You have {{$INV($v)}} of {{$v}}`,\n              run:\"$planting=$v\",go:\"return\"},\n            {text:\"Back\",go:\"return\"}\n\n        ]\n    },\n    {\n        id:\"trade\",\n        run:\"$trader=$npc.find($FINDER('name',$traderName))\",\n        intro:[\n            {text:\"Hello my name is {{$trader.name}} and I'd like to trade!\"}\n        ],\n        options:[\n            {each:\"(v,k) in $trader.sells\", if:\"$INV('money')>=$TYPE($v).price\",\n               text:\"Buy 1 {{$v}} for {{$TYPE($v).price}} .\",run:\"$INV($v,1);$INV('money',-$TYPE($v).price)\"},\n\n            {each:\"(v,k) in $trader.buys\", if:\"$INV($v)\", text:\"Sell 1 {{$v}} for {{$TYPE($v).price}}\",\n              run:\"$INV($v,-1);$INV('money',$TYPE($v).price)\"}, \n            {text:\"Back\",go:\"return\"}\n        ]\n\n    },\n    {\n        id:\"combat\",\n        run:\"$DEBUG($opponent);$options=false;$DEBUG($options)\",\n        intro:[\n            {text:\"{{$message}} The fight is over!\",if:\"$combat_won||$combat_lost\",run:\"$message=''\"},\n            {text:\"{{$message}}You are fighting with {{$opponent.name}} that has {{$opponent.stats.energy}} energy\",run:\"$message=''\"}\n        ],\n        options:[\n            // {text:\"You have won!\",if:\"$opponent.stats.energy<1\",run:\"$INV('money',$RND(10))\",go:\"return\"},\n            {text:\"Attack!\",if:\"!$COMBAT_IS_FINISHED()\",run:\"$COMBAT_ROUND()\"},\n            {text:\"Flee!\",if:\"!$COMBAT_IS_FINISHED()\",go:\"combat_flee\"},\n            // {text:\"You are defeated :(\",if:\"$stats.energy<1\",run:\"$WAIT_UNTIL_MORNING();$stats.energy=($stats.energy_max/2)>>0\",go:\"village\"},\n            {text:\"Great!\",if:\"$combat_won\",run:\"$combat_won=false;$combat_lost=false;$options=true\",go:\"return\"},\n            {text:\"Oh well...\",if:\"$combat_lost\",run:\"$options=true\",go:\"return\"}\n\n        ]\n    },{\n        id:\"combat_flee\",\n        run:\"$COMBAT_TRY_FLEE()\",\n        intro:[\n            {text:\"You try to flee. {{$message}}  \",run:\"$message=''\"}\n        ],\n        options:[\n            {text:\"OK\",go:\"return\"}\n        ]\n    },\n    \n    {\n        id:\"harvest\",\n        intro:[\n            {text:`What you want to harvest?`}\n        ],\n        options:[\n            {each:\"(v,k) in $farm\", if:\"$v.stage===10\",text:\"Harvest {{$v.plant}}\",run:\"$DEBUG($k);$HARVEST($k);$TIRE(2);$TURN(1)\"},\n            {text:\"Back\",go:\"return\"}\n        ]\n    },\n//     {\n// id:\"start\",\n// intro:[\n//     {text:\"Jest\"},\n// ],\n// options:[\n//     {text:\"Ki\"}\n// ]\n\n//     },\n        {\n            id:\"start\",\n            intro:[\n                {text:`You wake up on the side of a road. Your head hurts and you don\\'t remember anything. \n                {{$flags.looked_around ? \"The road seems to lead to some village, you have a feeling that the other way is trouble.\" : \"\" }}` }\n            ],\n            options:[\n                // {text:\"Look around.\",if:\" !$flags.looked_around \",run:\"$flags.looked_around++\"},\n                {text:\"Look around.\",if:\" !$flags.looked_around \",run:\"$flags.looked_around++ ; $TURN(1)\"},\n                {text:\"Go towards the village\",if:\"$flags.looked_around\",go:\"village\",run:\"$TURN(2)\"}\n\n                // {text:\"Go towards the village\",if:\"$flags.looked_around\",go:\"village\"}\n            ]\n        },\n        {\n            id: \"look-at-self\",\n            // run:\"1 TURN\",\n            run:\"$TURN(1)\",\n\n            intro: [\n                { text: `You look {{ $stats.energy > 40 ?  \"rested\" : \"tired\"}}, no obvious damage. {{$flags.dirty ? \"You are dirty.\" : \"\" }}` }\n            ],\n            options: [\n                { text: \"Back\", go: \"return\" }\n            ]\n        },\n        {\n            id: \"village\",\n            intro: [\n                { text: `You are in the village. {{$IS_DAY()?\"There are some people around.\" : \"Everyone gone inside for the night\"}}` }\n            ],\n            options: [\n                { text: `Talk to {{!$flags.met_bernie ? \"an elderly man\" : \"Bernie\"}} sitting on a bench on the green`,\n                  go: \"talk_bernie\", if:\"!$flags.bartender_favor_bernie_finished\" },\n                { text:`Go to the pond.`,go:\"pond\"},\n                { text:`Go to the inn.`,go:\"inn\"},\n                { text:`Go to the shop.`,run:\"$traderName='Zach'\",go:\"trade\"},\n                {text:`Go to your farm.`,go:\"farm\"},\n                {text:`Go to the forest`,go:\"forest\"},\n                {text:`Go to the caves`,go:\"caves\"},\n                // { text: \"Back to the road\", run:\"2 TURN\", go: \"return\" }\n            ]\n        },\n        //BERNIE\n        {\n            id: \"talk_bernie\",\n            run:\"$flags.met_bernie++\",\n            intro: [\n                { text: `\"Hello again. How is it going? What can I do for you?\" said Bernie`,if:\"$flags.met_bernie > 1\" },\n                { text: `\"Hi there. My name is Bernie. What can I do for you\" said elderly man.` },\n\n            ],\n            options: [\n                { text: \"Can you tell me what is this place?\", go: \"bernie_what_is_this_place\" },\n                { text:\"The bartender says he is sorry and would like to go the the inn for a meal\",\n                if:\"$flags.bartender_favor_bernie_asked  & !$flags.bartender_favor_bernie_finished\",go:\"bernie_agrees\"},\n                { text: \"Nothing, I'm leaving\", go: \"return\" }\n            ]\n        },\n        {\n\n            id: \"bernie_agrees\",\n            intro: [\n                { text: `\"Ok. Free meal? I guess I can forgive him. Let's go!\"` }\n            ],\n            options: [\n                {text:\"OK.\",go:\"task_bartender_favor_bernie_finished\"},///?\n                // { text: \"Thanks.\", go: \"return\" }\n            ]\n        },\n        {\n\n            id: \"bernie_what_is_this_place\",\n            run:\"$flags.citaa_remembered=1\",\n            intro: [\n                { text: `'It's just a simple village.' we are the last stop before the sea port town of Oppa.\n                 People usually go there if they need to get to Citaa, the capital'. You just remembered! You need to get to Citaa!` }\n            ],\n            options: [\n                {text:\"I just remembered! I need to to Citaa! How can I get there?\",go:\"bernie_how_citaa\"},\n                { text: \"Thanks.\", go: \"return\" }\n            ]\n        },\n        {\n            id:\"bernie_how_citaa\",\n            intro:[\n                {text:\"Well, the ships to Citaa leave every 12 days, and you can catch a carriage to Oppa every afternoon, the bartender knows the current price.\"}\n            ],\n            options:[\n                {text:\"Thanks\",go:\"return\"}\n            ]\n        },\n        // POND\n        {\n            id: \"pond\",\n            intro: [\n                { text: \"You find yourself by a pond.\" }\n            ],\n            options: [\n                { text: \"Wash yourself.\", if: \"$flags.dirty\", run:\"$TURN(2);$flags.dirty=0\" },\n                { text: \"Try to fish\",go:\"fishing\"},\n                { text: \"Back to village\", go: \"village\" }\n            ]\n        },\n\n        {  \n            id: \"fishing\",\n            run :`$TURN(2); $catch = $TEST_ROLL(50) ? 1 : 0; $INV('fish',$catch); $TIRE(2)`,\n            intro: [\n                { text: \"You caught a fish!\",if:\"$catch\" },\n                { text:\"Sorry, no bonus\"},\n            ],\n            options: [\n                { text: \"Back\", go: \"return\" }\n            ]\n        },\n        // INN\n        {\n            id: \"inn\",\n            intro: [\n                { text: \"You are in a small inn. There is a bartender at the bar.\" }\n            ],\n            options: [\n                { text: \"Talk to the bartender\",go:\"bartender_talk\"},\n                { text: \"Talk to Bernie\", go:\"talk_bernie\",if:\"$flags.bartender_favor_bernie_finished\"},\n                {text:\"Trade\",run:\"$traderName='Bartender'\",go:\"trade\"},\n                { text: \"Back to village\", go: \"village\" }\n            ]\n        },\n        {\n            id: \"bartender_talk\",\n            \n            intro: [\n                { text :`What can I do for you?`,if:\"$flags.talked_to_bartender\"},\n                { text: `\"Hello there. Who are you stranger?\"` }\n            ],\n            options: [\n                { text:\"I don't remember.\",run:\"$flags.talked_to_bartender=1\",if:\"!$flags.talked_to_bartender\"},\n                { text:\"Thats's not your business! Bye.\",go:\"return\",run:\"$flags.talked_to_bartender=1\",if:\"!$flags.talked_to_bartender\"},\n                { text:\"How can I earn some money?\",if:\"$flags.talked_to_bartender\",go:\"bartender_money\"},\n                { text:\"I would like to buy something.\",if:\"$flags.talked_to_bartender\",go:\"bartender_sells\"},\n\n                { text:\"All I remember is need to get to Citaa.\",if:\"$flags.citaa_remembered\",run:\"$flags.talked_to_bartender=1\",go:\"bartender_talk_citaa\"},\n                {text:\"Nothing\",go:\"return\",if:\"$flags.talked_to_bartender\"}\n            ]\n        },\n        {\n            id: \"bartender_talk_citaa\",\n            intro: [\n                { text :`\"I hope you have a lot of money. The ship fare costs 100 coins.\"`,if:\"$flags.talked_to_bartender\"},\n            ],\n            options: [\n                {text:\"I understand.\",go:\"return\"}\n            ]\n        },\n        {\n            id: \"bartender_money\",\n            run:\"$flags.bartender_favor_bernie_asked=1\",\n            intro: [\n                { text :`\"I always can buy fish from you.{{!$flags.bartender_favor_bernie_finished ? \"Go and tell Bernie I'm sorry, ask him to come here and you both will get free meal.\" : \"\"  }}\"`},\n            ],\n            options: [\n                {text:`Sell 1 fish`,if:\"$INV('fish') > 0\",run:\"$INV('fish',-1);$INV('money',3)\"},\n                {text:\"I understand.\",go:\"return\"}\n            ]\n        },\n        {\n            id: \"bartender_sells\",\n            intro: [\n                { text :`\"I have meals for 5 gold.\"`}\n            ],\n            options: [\n                {text:`Buy 1 meal`,if:\"$INV('money') > 4\",run:\"$INV('money',-5);$INV('meal',1)\"},\n                {text:\"Thanks.\",go:\"return\"}\n            ]\n        },\n        {\n            run:\"$flags.bartender_favor_bernie_finished=1; $INV('meal',1)\",\n            id: \"task_bartender_favor_bernie_finished\",\n            intro: [\n                { text: `You both went to the inn. The Bartender says \"Thanks for that! Meals for you!\" and gives you a nice hot meal.` }\n            ],\n            options: [\n                {text:\"Thanks.\",go:\"inn\"},\n                // { text: \"Thanks.\", go: \"return\" }\n            ]\n        },\n        {\n            id:\"forest\",\n            run:\"$TEST_ROLL(($depth+1)*10)?$COMBAT_START('goblin'):false\",\n            intro: [\n                {text:`You are at the {{$depth}}. You are being attacked by {{$opponent.name}}`,if:\"$combat_forced\"},\n                {text:`You are at the {{$depth}}.`}\n            ],\n            options:[\n                {text:\"Go deeper\",run:\"$depth++\",if:\"!$combat_forced\",go:\"forest\"},\n                {text:\"Forage\",run:\"$FORAGE();\",if:\"!$combat_forced\",go:\"message\"},\n                {text:\"Go back to the village\",if:\"!$depth && !$combat_forced\",go:\"village\"},\n                {text:\"Go back a bit\",if:\"$depth && !$combat_forced\",run:\"$depth--\",go:\"forest\"},\n                {text:\"Fight!\",if:\"$combat_forced\",run:\"$combat_forced=false\",go:\"combat\"}\n            ]\n        },\n        {\n            id:\"caves\",\n            intro: [\n                {text:`You are at the {{$depth}} of the caves.`}\n            ],\n            options:[\n                {text:\"Go deeper\",run:\"$depth++\",go:\"caves\"},\n                {text:\"Mine\",run:\"$MINE()\",go:\"message\"},\n                {text:\"Go back to the village\",if:\"!$depth\",go:\"village\"},\n                {text:\"Go back a bit\",if:\"$depth\",run:\"$depth--\",go:\"caves\"}\n            ]\n        }\n        \n    ]","export const recipes=[\n    {name:\"axe\",ing:[[\"stone\",2],[\"stick\",3]]},\n    {name:\"widget\",ing:[[\"stick\",1]]},\n    {name:\"cooked_fish\",ing:[[\"fish\",1]],workstation:\"kitchen\"},\n    // {name:\"fishingRod\", ing:[[\"stick\",2],[\"string\",2]],workstation:\"workstationBasic\",unlocks:[\"skillFishing1\"]   }\n]","export function addFunctions(ctx, CFG) {\n    const finder = (key,value) => (el) => el[key]===value;\n    \n    ctx.FINDER = finder \n    ctx.TURN = x => {\n        for (let i = 0; i < x; i++) {\n            nextTurn();\n        }\n    };\n    ctx.MSG = x => {\n        let line = ctx.turn+': '+x;\n        ctx.messages= ctx.messages.concat(line).slice(-5);\n    }\n    ctx.TYPE = x => ctx.types.find(finder('name',x));\n    ctx.STACK_POP=()=> {\n        console.log(\"STACK\",ctx.stack);\n        ctx.stack=ctx.stack.slice(0,ctx.stack.slice.length)\n        console.log(\"AFTER\",ctx.stack)\n    };\n    ctx.STAT = (stat, n, entity=ctx) => {\n        const stats = entity.stats;\n        stats[stat] += n;\n        if (stats[stat] > stats[stat + \"_max\"]) {\n            stats[stat] = stats[stat + \"_max\"];\n        }\n        if (stats[stat] < 0) stats[stat] = 0;\n    }\n    ctx.INV = (item, n) => {\n        const inventory = ctx.inventory;\n        if (!n) {\n            return inventory[item] || 0;\n        } else {\n            let count = inventory[item] || 0;\n            inventory[item] = count + Number(n);\n            if (inventory[item] < 0) inventory[item] = 0;\n        }\n    }\n    ctx.TIRE = x => {\n        return ctx.STAT('energy',-x);\n    }\n    ctx.DEBUG = x => {\n        console.log(\"DEBUG:\", x);\n    };\n    ctx.PLANT = (plotKey, seed) => {\n        let plant = seed.replace(/_seed/, \"\");\n        let plot = ctx.farm[plotKey];\n        plot.plant = plant;\n        plot.stage = 0;\n        console.log(\"PLOT\", plot);\n    };\n    ctx.PLANT_STATUS = plant => {\n        if (plant.plant) {\n            return `${plant.plant} (${plant.stage}/10)`;\n\n        } else return `- empty -`\n    };\n    ctx.PLANTS_GROW = () => {\n        ctx.farm.forEach(plot => {\n            if (plot.plant) {\n                plot.stage += ctx.TYPE(plot.plant).grow;\n                if (plot.stage > 10) plot.stage = 10;\n            }\n        });\n    };\n    ctx.HARVEST = plotKey => {\n        let plot = ctx.farm[plotKey];\n        ctx.INV(plot.plant, 1);\n        plot.plant = \"\";\n        plot.stage = 0;\n    };\n    ctx.GET_HOUR = () => ((ctx.turn / CFG.TURNS_PER_HOUR) >> 0) % 24;\n    ctx.GET_MINUTES = () => (ctx.turn % CFG.TURNS_PER_HOUR) * 15;\n   \n    ctx.IS_DAY = () => {\n        let hour = ((ctx.turn / CFG.TURNS_PER_HOUR) >> 0) % 24;\n        if (hour > 5 && hour < 20) return true;\n        return false;\n    };\n    // screept.addVerb(\"IS_DAY\", 0, () => {\n    //     let hour = ((ctx.turn / CFG.TURNS_PER_HOUR) >> 0) % 24;\n    //     if (hour > 5 && hour < 20) return true;\n    //     return false;\n    // })\n    ctx.GET_DAY = () => (1 + ctx.turn / CFG.TURNS_PER_HOUR / 24) >> 0;\n   \n    ctx.WAIT_UNTIL_MORNING = () => waitUntilMorning();\n    // screept.addVerb(\"WAIT_UNTIL_MORNING\",0,()=>{\n    // waitUntilMorning();\n    // })\n    //take percentage and return true or false\n    ctx.TEST_ROLL = a => Math.random() * 100 < a;\n    ctx.RND = a => (Math.random()*a)>>0;\n    ctx.INVENTORY = () => {\n        return Object.entries(ctx.inventory)\n            .filter(entry => entry[1])\n            .map(entry => entry[0] + \":\" + entry[1])\n            .join(\", \");\n    };\n    ctx.SAVE = () => {\n        localStorage.setItem(\"save\", JSON.stringify(ctx));\n    };\n    // screept.addVerb(\"SAVE\",0,()=>{\n    // localStorage.setItem('save',JSON.stringify(ctx))\n    // })\n\n    ctx.LOAD = () => {\n        let save = JSON.parse(localStorage.getItem(\"save\"));\n        Object.keys(ctx).forEach(key => {\n            ctx[key] = save[key];\n        });\n        addFunctions(ctx,CFG)\n    };\n    // screept.addVerb(\"LOAD\",0,()=>{\n    //     let save=JSON.parse(localStorage.getItem('save'));\n    //     Object.keys(ctx).forEach(key=>{\n    //         ctx[key]=save[key];\n    //     });\n\n    // })\n    ctx.MINE = () => {\n        let stone = (Math.random() * (ctx.depth + 2)) >> 0;\n        ctx.message = `You found ${stone} stones.`;\n        ctx.INV('stone', stone);\n    }\n    ctx.FORAGE = () => {\n        let stick = (Math.random() * (ctx.depth + 2)) >> 0;\n        ctx.message = `You found ${stick} sticks.`;\n        ctx.INV('stick', stick);\n    }\n    ctx.CRAFT = (item) => {\n        let recipe = ctx.recipes.find(finder('name',item));\n        recipe.ing.forEach(ing => {\n            let [name, amount] = ing;\n            ctx.INV(name, -amount);\n        })\n        ctx.INV(item, 1);\n    }\n    ctx.COMBAT_START= (opponentName)=>{\n        ctx.opponent=ctx.npc.find(finder('name','goblin'));\n        ctx.combat_forced=true;\n        ctx.COMBAT_PREPARE();\n    }\n    ctx.COMBAT_PREPARE = () => {\n        let opponent=ctx.opponent;\n        if (opponent.generic){\n            opponent.stats.energy=opponent.stats.energy_max;\n        }\n    }\n\n    ctx.COMBAT_IS_FINISHED = () => ctx.combat_won || ctx.combat_lost || ctx.stats.energy<1 || ctx.opponent.stats.energy<1;\n    ctx.COMBAT_ATTACK= () => {\n        let player_dmg = ctx.RND(10);\n        ctx.STAT('energy',-player_dmg,ctx.opponent);\n        ctx.message=`You hit ${ctx.opponent.name} for ${player_dmg} damage. `;\n        ctx.MSG(`You hit ${ctx.opponent.name} for ${player_dmg} damage. `);\n    }\n    ctx.COMBAT_NPC_ATTACK = () => {\n        if (ctx.opponent.stats.energy>0){\n            let opp_dmag=ctx.RND(10);\n            ctx.STAT('energy',-opp_dmag);\n            ctx.message+=` You are hit for ${opp_dmag} damage. `;\n            ctx.MSG(` You are hit for ${opp_dmag} damage. `)\n        }\n    }\n    ctx.COMBAT_STATE = () =>{\n        if (ctx.opponent.stats.energy<1){\n            ctx.message+=` You defeated ${ctx.opponent.name}!`;\n            ctx.combat_won=true;\n        } else if (ctx.stats.energy<1){\n            ctx.message+=` You have been defeated! `;\n            ctx.MSG(` You have been defeated! `)\n            ctx.combat_lost=true;\n            waitUntilMorning();\n            ctx.stats.energy=(ctx.stats.energy_max/2)>>0;\n        }\n    } \n    ctx.COMBAT_ROUND = ()=>{\n        ctx.COMBAT_ATTACK();\n        ctx.COMBAT_NPC_ATTACK();\n        ctx.COMBAT_STATE();\n    }\n    ctx.COMBAT_TRY_FLEE = () => {\n        let attempt=ctx.RND(10);\n        if (attempt<4){\n            ctx.message+=\"You managed to escape. \"\n            ctx.STACK_POP();\n            console.log(\"Success\")\n        } else if (attempt<8){\n            //espace with hit\n            ctx.message+=\"You managed to escape, but... \"\n\n            ctx.COMBAT_NPC_ATTACK();\n            console.log(\"Success kinda\")\n            ctx.STACK_POP();\n        } else {\n            ctx.message+=\"You didn't manage to escape. \"\n\n            ctx.COMBAT_NPC_ATTACK();\n            console.log(\"Fail!\")\n\n        }\n    }\n\n    function nextTurn() {\n        console.log(\"Turn passed, new turn \", ++ctx.turn);\n        if (ctx.turn % (CFG.TURNS_PER_HOUR * 24) === CFG.TURNS_PER_HOUR * 6) {\n            console.log(\"New day!\");\n            ctx.PLANTS_GROW();\n        }\n        if (ctx.turn % (CFG.TURNS_PER_HOUR * 24) === CFG.TURNS_PER_HOUR * 22) {\n            console.log(\"Pass out!\");\n            if (!ctx.flags.sleeping) {\n                ctx.flags.passedOut = 1;\n            }\n            waitUntilMorning();\n        }\n    }\n\n    function waitUntilMorning() {\n        while (ctx.turn % (CFG.TURNS_PER_HOUR * 24) !== CFG.TURNS_PER_HOUR * 6) {\n            nextTurn();\n        }\n    }\n\n}","export const types = [{\n    name: \"cabbage\",\n    foodValue: 10,\n    grow: 2,\n    price: 5\n},\n{\n    name: \"cabbage_seed\",\n    price: 7\n},\n{\n    name: \"radish_seed\",\n    price: 1\n},\n{\n    name: \"radish\",\n    foodValue: 5,\n    grow: 3,\n    price: 3\n},\n{\n    name: \"meal\",\n    foodValue: 30,\n    price: 10\n},\n{\n    name: \"fish\",\n    foodValue: 20,\n    price: 8,\n}\n]","import dialogs from \"./dialogs.mjs\";\nimport * as screept from \"../../src/lib/screept\";\nimport {recipes} from './recipes.mjs';\nimport {addFunctions} from './verbs.mjs';\nimport {types} from './types.mjs';\n// import screept from 'screept/index.mjs';\n// console.log(\"ROZMOWA\",rozmowa);\n\n// const dialogName = \"start\";\n\nconst ctx = {\n  dialogName: \"village\",\n  // dialogName: \"options\",\n  options:true,\n  message:'',\n  messages:[],\n  stack: [],\n  other: {\n    met: -1\n  },\n  depth:0,\n  turn: 25,\n  inventory: {\n    money: 20,\n    sword: 0,\n    fish: 1,\n    meal: 2,\n    cabbage_seed: 2,\n    radish_seed: 1,\n    stick:5,\n    stone:10,\n  },\n  npc:[\n    { name:\"Zach\",\n    sells:[\n      \"cabbage_seed\", \"radish_seed\" // make tags #veg\n    ],\n    buys:[\"cabbage\",\"fish\",\"radish\"]\n  },\n{\n  name:\"Bartender\",\n  sells:[\"meal\"],\n  buys:[\"fish\",\"cabbage\"]\n},\n{\n  name:\"goblin\",\n  generic:true,\n  stats:{\n    energy:50,\n    energy_max:50,\n    attack:120,\n    defence:75,\n  }\n  \n}\n],\n  \n  planting: \"cabbage_seed\",\n  farm: [{ plant: \"cabbage\", stage: 8 }, { plant: \"\" }],\n  stats: {\n    energy: 60,\n    energy_max: 100,\n  },\n  types: types,\n  flags: {\n    dirty: 1,\n    passedOut: 0,\n    sleeping: 0,\n    looked_around: 0,\n    met_bernie: 0,\n    talked_to_bartender: 0,\n    bartender_favor_bernie_finished: 0,\n    bartender_favor_bernie_asked: 0,\n    citaa_remembered: 0\n  },\n  recipes: recipes,\n};\nconsole.log(ctx.types)\nconst CFG={}\nCFG.TURNS_PER_HOUR = 4;\n\nfunction status() {\n  // let s = `It is currently {{turn}} turn. Time is {{HOUR}}. It's {{\"day\" \"night\" IS_DAY ?}}\n  //  You have: ${ Object.entries(ctx.inventory).filter(entry=>entry[1]).map(entry=>entry[0]+\":\"+entry[1]).join(\", \") }\n  //  Energy: {{stats.energy}}\n  //  `\n  let s = `\n {{ $flags.passedOut ? \"You have passed out, falling asleep where you where! \" : \"\"}}{{$flags.passedOut0; \"\"}}\n Time is {{$GET_HOUR()}} o'clock. It's {{$GET_DAY()}} {{ $IS_DAY() ?\"day\": \"night\"}}.\n  You have {{$inventory.money}} coins. Energy: {{$stats.energy}} ^nl\n  {{$messages.join('^nl')}}\n  `;\n  // let s=\"JAN\"\n  let result=screept.interpolate(s, ctx).split('^nl').join('<br>');\n  // ctx.flags.passedOut=false;\n  return result;\n}\n\nfunction init() {\n  console.log(\"INIT RUN\");\n  addFunctions(ctx,CFG);\n  \n}\nexport default {\n  dialogs,\n  status,\n  // dialogName,\n  ctx,\n  init\n};\n","<template>\n  <div class=\"container\">\n    <div class=\"status\">\n      <div v-html=\"statusText\"></div>\n      <div @click=\"chooseOption\" data-option=\"options\" v-if=\"ctx.options\" class=\"option\">Options</div>\n    </div>\n    <div v-if=\"dialog\" class=\"dialog\">\n      <div class=\"intro\" v-html=\"dialog.intro.textInterpolated\"></div>\n      <div\n        @click=\"chooseOption\"\n        :data-option=\"key\"\n        class=\"option\"\n        v-for=\"(option,key) in dialog.options\"\n        :test=\"ctx.dialogName+'_'+key+' '+option.text.length\"\n        :key=\"ctx.dialogName+'_'+key+' '+option.text.length\"\n      >{{option.textInterpolated}}</div>\n    </div>\n    <!-- <div v-if=\"debug\" class=\"debug\">Context : {{context}}</div> -->\n    <input type=\"checkbox\" v-model=\"debug\">\n    <debug v-if=\"debug\" :ctx=\"ctx\"></debug>\n  </div>\n</template>\n\n<script>\nimport Dialog from \"../lib/dialog.js\";\nimport Debug from './Debug';\nimport gameData from \"../../game-data/adventure-2/index.mjs\";\n\nexport default {\n  name: \"Gra\",\n  props: {\n    msg: String\n  },\n  components:{\n    Debug\n  },\n  data() {\n    return {\n      debug: true,\n      // dialogName: null,\n      ctx: {},\n      // dialog: null,\n      status: null,\n      dialogs: null\n      // stack: []\n    };\n  },\n  computed: {\n    dialog() {\n      if (!this.ctx.dialogName) return null;\n      console.log(\"dialog liczony\", this.ctx.dialogName);\n      return Dialog.processDialog(this.dialogs, this.ctx.dialogName, this.ctx); // potentially check if null, not sure how it deals with lack of dialogname\n    },\n    context() {\n      console.log(\"Context liczony\");\n      return JSON.stringify(this.ctx);\n    },\n    statusText() {\n      console.log(\"Status liczony\");\n      if (JSON.stringify(this.ctx) && this.status) return this.status(); // first part so its recomputed;\n    }\n  },\n  methods: {\n    chooseOption(event) {\n      let id = event.target.dataset.option;\n      let result;\n      if (id === \"options\") {\n        result = \"options\";\n      } else {\n        result = Dialog.processOptionChoice(this.dialog.options[id], this.ctx);\n      }\n      console.log(\"RESULT IS\",result)\n      if (result === \"return\") {\n        this.ctx.dialogName = this.ctx.stack.pop();\n      } else if (!result) {\n        this.ctx.dialogName = null;\n      } else if (typeof result == \"string\") {\n        if (result !== this.ctx.stack[this.ctx.stack.length - 1]) {\n          this.ctx.stack.push(this.ctx.dialogName);\n        }\n          this.ctx.dialogName = result;\n      } else if (result===true){\n        console.log(\"RUN RUN RUN\",this.ctx.farm);\n      }\n      // if (!result) this.dialogName = null;\n  \n      console.log(\n        \"CHOOSE OPTION\",\n        id,\n        result,\n        \"STACK\",\n        this.ctx.stack.join(\",\")\n      );\n      // this.updateDialog();\n    }\n  },\n  mounted() {\n    // this.cdialogName = gameData.dialogName;\n    this.dialogs = gameData.dialogs;\n    this.status = gameData.status;\n    this.ctx = gameData.ctx;\n    gameData.init();\n    // this.updateDialog();\n  }\n};\n</script>\n\n<style>\n.container {\n  /* width: 100%; */\n  max-width: 800px;\n  margin: auto;\n}\n.status,\n.dialog {\n  border: 1px solid black;\n  box-shadow: 3px 3px;\n  padding: 5px;\n  border-radius: 3px;\n  margin-bottom: 20px;\n}\n.intro {\n  font-style: italic;\n  padding: 5px;\n}\n.option {\n  padding: 5px;\n  margin: 5px 0;\n  border: 1px solid black;\n  transition: 0.5s all;\n  cursor: pointer;\n}\n.option:hover {\n  background-color: black;\n  color: white;\n}\n.debug {\n  font-family: monospace;\n  font-size: 0.8;\n  margin-top: 200px;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Gra.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Gra.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Gra.vue?vue&type=template&id=74f18516&\"\nimport script from \"./Gra.vue?vue&type=script&lang=js&\"\nexport * from \"./Gra.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Gra.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div id=\"app\">\n    <!-- <img alt=\"Vue logo\" src=\"./assets/logo.png\"> -->\n    <Gra msg=\"Welcome to Your Vue.js App\"/>\n  </div>\n</template>\n\n<script>\nimport Gra from './components/Gra.vue';\n\nexport default {\n  name: 'app',\n  components: {\n    Gra\n  }\n}\n</script>\n\n<style>\n#app {\n  font-family: sans-serif;\n}\n</style>\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=d750a1a4&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue'\nimport App from './App.vue'\n\nVue.config.productionTip = false\n\nnew Vue({\n  render: h => h(App),\n}).$mount('#app')\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Gra.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Gra.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Debug.vue?vue&type=style&index=0&id=77f9bd40&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Debug.vue?vue&type=style&index=0&id=77f9bd40&scoped=true&lang=css&\""],"sourceRoot":""}