(function(t){function e(e){for(var n,i,s=e[0],u=e[1],l=e[2],d=0,g=[];d<s.length;d++)i=s[d],r[i]&&g.push(r[i][0]),r[i]=0;for(n in u)Object.prototype.hasOwnProperty.call(u,n)&&(t[n]=u[n]);c&&c(e);while(g.length)g.shift()();return a.push.apply(a,l||[]),o()}function o(){for(var t,e=0;e<a.length;e++){for(var o=a[e],n=!0,s=1;s<o.length;s++){var u=o[s];0!==r[u]&&(n=!1)}n&&(a.splice(e--,1),t=i(i.s=o[0]))}return t}var n={},r={app:0},a=[];function i(e){if(n[e])return n[e].exports;var o=n[e]={i:e,l:!1,exports:{}};return t[e].call(o.exports,o,o.exports,i),o.l=!0,o.exports}i.m=t,i.c=n,i.d=function(t,e,o){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(i.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(o,n,function(e){return t[e]}.bind(null,n));return o},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],u=s.push.bind(s);s.push=e,s=s.slice();for(var l=0;l<s.length;l++)e(s[l]);var c=u;a.push([0,"chunk-vendors"]),o()})({0:function(t,e,o){t.exports=o("56d7")},"034f":function(t,e,o){"use strict";var n=o("64a9"),r=o.n(n);r.a},"56d7":function(t,e,o){"use strict";o.r(e);o("cadf"),o("551c"),o("f751"),o("097d");var n=o("2b0e"),r=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"app"}},[o("Gra",{attrs:{msg:"Welcome to Your Vue.js App"}})],1)},a=[],i=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"container"},[o("div",{staticClass:"status"},[o("div",[t._v(t._s(t.statusText))])]),t.dialog?o("div",{staticClass:"dialog"},[o("div",{staticClass:"intro"},[t._v(t._s(t.dialog.intro.textInterpolated))]),t._l(t.dialog.options,function(e,n){return o("div",{key:n,staticClass:"option",attrs:{"data-option":n},on:{click:t.chooseOption}},[t._v(t._s(e.textInterpolated))])})],2):t._e(),t.debug?o("div",{staticClass:"debug"},[t._v("Dialog name: "+t._s(t.dialogName)+", Context : "+t._s(t.context))]):t._e()])},s=[],u=o("fff2"),l=(o("c5f6"),o("ac6a"),o("ffc1"),[{id:"start",intro:[{text:'You wake up on the side of a road. Your head hurts and you don\'t remember anything. \n                {{"The road seems to lead to some village, you have a feeling that the other way is trouble." "" looked-around ?}}'}],options:[{text:"Look at yourself.",go:"look-at-self"},{text:"Look around.{{1 0 50 TEST ? a :=}}",if:"looked-around !",run:"1 looked-around := ; 1 TURN"},{text:"Go towards the village",if:"looked-around",go:"village",run:"2 TURN"}]},{id:"look-at-self",run:"1 TURN",intro:[{text:"You look alright, no obvious damage"}],options:[{text:"Back",go:"return"}]},{id:"village",intro:[{text:'You are in the village. {{"There are some people around." "Everyone gone inside for the night" IS_DAY ?}}'}],options:[{text:'Talk to {{"an elderly man" "Bernie" met_bernie ! ?}} sitting on a bench on the green',go:"talk_bernie"},{text:"Go to the pond.",go:"pond"},{text:"Back to the road",run:"2 TURN",go:"return"}]},{id:"talk_bernie",run:"met_bernie INC",intro:[{text:'"Hello again. How is it going? What can I do for you?" said Bernie',if:"met_bernie 1 >"},{text:'"Hi there. My name is Bernie. What can I do for you" said elderly man.'}],options:[{text:"Can you tell me what is this place?",go:"bernie_what_is_this_place"},{text:"Nothing, I'm leaving",go:"return"}]},{id:"bernie_what_is_this_place",intro:[{text:"It's just a simple village."}],options:[{text:"Thanks.",go:"return"}]},{id:"pond",intro:[{text:"You find yourself by a pond."}],options:[{text:"Wash yourself.",if:"dirty",run:"2 TURN;0 dirty :="},{text:"Try to fish",go:"fishing"},{text:"Back",go:"return"}]},{id:"fishing",run:"2 TURN; 1 0 50 TEST ? catch := ; inventory.fish  catch INC_BY",intro:[{text:"You caught a fish!",if:"catch"},{text:"Sorry, no bonus"}],options:[{text:"Back",go:"return"}]},{id:"basic",intro:[{text:"Hello, my name is noone."}],options:[{text:"Hello to you to",go:"other"},{text:"I don't want to talk",go:"return"}]},{id:"other",run:"other.met INC",intro:[{text:"Hello, I hate you. Met you too many times",if:"other.met 2 >"},{text:"Hello, I already met you!",if:"other.met 0 >"},{text:"Hello, stranger!",run:'"Jan" other.x :='}],options:[{text:"Same here",if:"other.met 0 >",go:"basic"},{text:"Hello to you to",run:"other.met 1 - other.met :="},{text:"I don't want to talk",go:"return"}]},{id:"adventure",intro:[{text:'You are standing in the village green. {{"You see a backpack" "" backpack ?}}'}],options:[{text:"Pick up the backpack",if:"backpack",run:"0 backpack :=; 1 inventory.backpack :="},{text:"Sit on a bench and rest a bit",if:"stats.energy 10 <",run:"stats.energy INC;2 TURN"},{text:"Go to the tavern",go:"tavern",run:"1 TURN"},{text:"Nothing..."}]},{id:"tavern",intro:[{text:"You are in the tavern"}],options:[{text:"Do some paid work",if:"stats.energy 1 >",run:"stats.energy -2 INC_BY ; inventory.money 1 INC_BY; 5 TURN"},{text:"Talk to bartender",if:"talked_to_bartender !",go:"bartender"},{text:"Leave",go:"adventure"}]},{run:"1 TURN;talked_to_bartender INC",id:"bartender",intro:[{text:"Hello, here's the sword to kill dragon",run:"inventory.sword INC"}],options:[{text:"Leave",go:"return"}]}]),c=u["a"].screept;console.log("ROZMOWA",u["a"]);var d="start",g={other:{met:-1},turn:25,score:0,backpack:1,inventory:{money:5,sword:0},stats:{energy:10},dirty:!0},h=4;function f(){var t='It is currently {{turn}} turn. Time is {{HOUR}}. It\'s {{"day" "night" IS_DAY ?}} You have {{score}} points.\n     You have: '.concat(Object.entries(g.inventory).filter(function(t){return t[1]}).map(function(t){return t[0]+":"+t[1]}).join(", "),"\n     Energy: {{stats.energy}}\n     ");return c.interpolate(t,g)}function p(){console.log("INIT RUN"),c.addVerb("INC",1,function(t){return t.object[t.key]=Number(t.value||0)+1,t.object[t.key]}),c.addVerb("INC_BY",2,function(t,e){return t.object[t.key]=Number(t.value||0)+Number(e.value||0),t.object[t.key]}),c.addVerb("TURN",1,function(t){for(var e=0;e<t.value;e++)console.log("Turn passed, new turn ",++g.turn)}),c.addVerb("HOUR",0,function(){return(g.turn/h>>0)%24}),c.addVerb("IS_DAY",0,function(){var t=(g.turn/h>>0)%24;return t>5&&t<20}),c.addVerb("TEST",1,function(t){var e=100*Math.random();return e<t.value})}var v={dialogs:l,status:f,dialogName:d,ctx:g,init:p},y={name:"Gra",props:{msg:String},data:function(){return{debug:!0,dialogName:null,ctx:null,dialog:null,status:null,dialogs:null,stack:[]}},computed:{context:function(){return console.log("Context liczony"),JSON.stringify(this.ctx)},statusText:function(){if(console.log("Status liczony"),JSON.stringify(this.ctx)&&this.status)return this.status()}},methods:{updateDialog:function(){console.log("dialog liczony",this.dialogName),null==this.dialogName?this.dialog=null:this.dialog=u["a"].processDialog(this.dialogs,this.dialogName,this.ctx)},chooseOption:function(t){var e=t.target.dataset.option,o=u["a"].processOptionChoice(this.dialog.options[e],this.ctx);"return"===o?this.dialogName=this.stack.pop():o?"string"==typeof o&&o!==this.stack[this.stack.length-1]&&(this.stack.push(this.dialogName),this.dialogName=o):this.dialogName=null,console.log("CHOOSE OPTION",e,o,"STACK",this.stack.join(",")),this.updateDialog()}},mounted:function(){this.ctx=v.ctx,this.dialogName=v.dialogName,this.status=v.status,this.dialogs=v.dialogs,v.init(),this.updateDialog()}},b=y,m=(o("db64"),o("2877")),x=Object(m["a"])(b,i,s,!1,null,null,null),k=x.exports,_={name:"app",components:{Gra:k}},N=_,T=(o("034f"),Object(m["a"])(N,r,a,!1,null,null,null)),I=T.exports;n["a"].config.productionTip=!1,new n["a"]({render:function(t){return t(I)}}).$mount("#app")},"64a9":function(t,e,o){},a236:function(t,e,o){},db64:function(t,e,o){"use strict";var n=o("a236"),r=o.n(n);r.a}});
//# sourceMappingURL=app.ef9b135e.js.map